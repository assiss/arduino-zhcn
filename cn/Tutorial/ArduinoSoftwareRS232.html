<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>Arduino - ArduinoSoftwareRS232 </title>
  <link rel="shortcut icon" type="image/x-icon" href="../favicon.png">
  <link rel='stylesheet' href='../pub/skins/arduinoWide_SSO/arduinoWide_SSO.css' 
type='text/css' />
  <link href="https://plus.google.com/114839908922424087554" rel="publisher" />
    <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 5px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
div.toc p { background-color: #f9f6d6;
    margin-top:-5px;   padding-top: 5px;
    margin-left:-5px;  padding-left: 5px;
    margin-right:-5px; padding-right: 5px;
    padding-bottom: 3px;
    border-bottom:  1px dotted #cccccc; }.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>  <meta name='robots' content='index,follow' />

  <meta name="verify-v1" content="TtxFIEJAB6zdJ509wLxjnapQzKAMNm9u0Wj4ho6wxIY=" />
  <script src="https://id.arduino.cc/css/sso_bar_js_2.php?s=reference"></script>
  <link rel="stylesheet" type="text/css" media="screen" href="../../../id.arduino.cc/css/sso_bar.css" />
</head>
<body>

		<div id="ssotoolbar">
		  <div id="al">
			<nobr><div id="ssoNavBar">&nbsp;</div></nobr>
		  </div>
		  <div id="ar">
			<nobr>
			  <div id="loginInfo"><div id="loading">Loading...</div></div>
			</nobr>
		  </div>
		</div>
		<script>ssoGenerateNavigationBar('');</script>
<div id="page">
<!--PageHeaderFmt-->
<div id="pageheader">
  <div class="title"><a href='../../enhtml.html'>Arduino</a></div>
  <div class="search">
    <!-- SiteSearch Google -->
    <FORM method=GET action="http://www.google.com/search">
    <input type=hidden name=ie value=UTF-8>
    <input type=hidden name=oe value=UTF-8>
    <INPUT TYPE=text name=q size=25 maxlength=255 value="">
    <INPUT type=submit name=btnG VALUE="search">
    <input type=hidden name=domains value="http://www.arduino.cc/">
    <input type=hidden name=sitesearch value="http://www.arduino.cc/">
    </FORM>
    <!-- SiteSearch Google -->
  </div>
</div>
<!--/PageHeaderFmt-->
<!--PageLeftFmt-->
<div id="pagenav">
  <div id="navbar">
  	<p><a class='wikilink' href='../Main/Buy.html'>Buy</a>
<a class='wikilink' href='../Main/Software.html'>Download</a>
<a class='wikilink' href='../Guide/HomePagehtml.html'>Getting Started</a>
<a class='wikilink' href='HomePage.html'>Learning</a>
<a class='wikilink' href='../Reference/HomePage.html'>Reference</a>
<a class='wikilink' href='../Main/Hardware.html'>Hardware</a>
<a class='wikilink' href='../Main/FAQ.html'>FAQ</a>
</p>
<p class='vspace'></p>

  </div>
</div>
<!--/PageLeftFmt-->
<div id="pagetext">
<!--PageText-->
<div id='wikitext'>
<p><strong>Learning</strong> &nbsp;  <a class='wikilink' href='HomePage.html'>Examples</a> | <a class='wikilink' href='Foundationshtml.html'>Foundations</a> | <a class='wikilink' href='../Hacking/HomePage.html'>Hacking</a> | <a class='wikilink' href='Links.html'>Links</a>
</p>
<p class='vspace'></p><h1>RS-232 </h1>
<p>In this tutorial you will learn how to communicate with a computer using a <span class='wikiword'>MAX3323</span> single channel RS-232 driver/receiver and a software serial connection on the Arduino. A general purpose software serial tutorial can be found <a class='urllink' href='http://www.arduino.cc/en/Tutorial/SoftwareSerial' rel='nofollow'>here</a>.
</p>
<p class='vspace'></p><p>Materials needed:
</p>
<p class='vspace'></p><ul><li>Computer with a terminal program installed (ie. <span class='wikiword'>HyperTerminal</span> or <span class='wikiword'>RealTerm</span> on the PC, Zterm on Mac)
</li><li>Serial-Breadboard cable
</li><li><span class='wikiword'>MAX3323</span> chip (or similar)
</li><li>4 1uf capacitors
</li><li>Solderless breadboard
</li><li>Hookup wire
</li><li>Arduino Microcontroller Module
</li><li>Light emitting Diode (LED) - optional, for debugging 
</li></ul><p class='vspace'></p><h2>Prepare the breadboard</h2>
<div><img src='../uploads/Tutorial/max3323_pins.jpg' alt='' title='' /></div>
<p class='vspace'></p><p>Insert the <span class='wikiword'>MAX3323</span> chip in the breadboard. Connect 5V power and ground from the breadboard to 5V power and ground from the microcontroller. Connect pin 15 on the <span class='wikiword'>MAX233</span> chip to ground and pins 16 and 14 - 11 to 5V. If you are using an LED connect it between pin 13 and ground.
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/MAX3323_pwr2.jpg' alt='' title='' /></div>
<p><em>+5v wires are red, GND wires are black</em>
</p>
<p class='vspace'></p><p>Connect a 1uF capacitor across pins 1 and 3, another across pins 4 and 5, another between pin 1 and ground, and the last between pin 6 and ground. If you are using polarized capacitors make sure  the negative pins connect to the negative sides (pins 3 and 5 and ground). 
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/MAX3323_caps2.jpg' alt='' title='' /></div>
<p><em>+5v wires are red, GND wires are black</em>
</p>
<p class='vspace'></p><p>Determine which Arduino pins you want to use for your transmit (TX) and recieve (RX) lines. In this tutorial we will be using Arduino pin 6 for receiving and pin 7 for transmitting. Connect your TX pin (7) to <span class='wikiword'>MAX3323</span> pin 10 (<span class='wikiword'>T1IN</span>). Connect your RX pin (6) to <span class='wikiword'>MAX3323</span> pin 9 (<span class='wikiword'>R1OUT</span>). 
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/MAX3323_txrx2.jpg' alt='' title='' /></div>
<p><em>TX wire Green, RX wire Blue, +5v wires are red, GND wires are black</em>
</p>
<p class='vspace'></p><h2>Cables</h2>
<div><img src='../uploads/Tutorial/DB9-pinout.gif' alt='' title='' /></div>
<p><em>(<span class='wikiword'>DB9</span> Serial Connector Pin Diagram)</em>
</p>
<p class='vspace'></p><p>If you do not have one already, you need to make a cable to connect from the serial port (or USB-serial adapter) on your computer and the breadboard. To do this, pick up a female <span class='wikiword'>DB9</span> connector from radioshack. Pick three different colors of wire, one for TX, one for RX, and one for ground. Solder your TX wire to pin 2 of the <span class='wikiword'>DB9</span> connector, RX wire to pin 3 and Ground to pin 5. 
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/ser_con_top.jpg' alt='' title='' /></div>
<p class='vspace'></p><p>Connect pins 1 and 6 to pin 4 and pin 7 to pin 8. Heatshrink the wire connections to avoid accidental shorts. 
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/ser_con_bottom.jpg' alt='' title='' /></div>
<p class='vspace'></p><p>Enclose the connector in a backshell to further protect the signal and enable easy unplugging from your serial port.
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/ser_con_shell.jpg' alt='' title='' /></div>
<p class='vspace'></p><p>Connect the TX line from your computer to pin 8 (<span class='wikiword'>R1IN</span>) on the <span class='wikiword'>MAX233</span> and the RX line to pin 7 (<span class='wikiword'>T1OUT</span>). Connect the ground line from your computer to ground on the breadboard.
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/MAX3323_cable2.jpg' alt='' title='' /></div>
<p><em>TX wires Green, RX wires Blue, +5v wires are red, GND wires are black</em>
</p>
<p class='vspace'></p><h2>Program the Arduino</h2>
<p>Now we will write the code to enable serial data communication. This program will simply wait for a character to arrive in the serial recieving port and then spit it back out in uppercase out the transmit port. This is a good general purpose serial debugging program and you should be able to extrapolate from this example to cover all your basic serial needs. Upload the following code into the Arduino microcontroller module:
</p>
<p class='vspace'></p><pre>
//Created August 23 2006
//Heather Dewey-Hagborg
//http://www.arduino.cc

#include &lt;ctype.h&gt;

#define bit9600Delay 84  
#define halfBit9600Delay 42
#define bit4800Delay 188 
#define halfBit4800Delay 94 

byte rx = 6;
byte tx = 7;
byte SWval;

void setup() {
  pinMode(rx,INPUT);
  pinMode(tx,OUTPUT);
  digitalWrite(tx,HIGH);
  digitalWrite(13,HIGH); //turn on debugging LED
  SWprint('h');  //debugging hello
  SWprint('i');
  SWprint(10); //carriage return
}

void SWprint(int data)
{
  byte mask;
  //startbit
  digitalWrite(tx,LOW);
  delayMicroseconds(bit9600Delay);
  for (mask = 0x01; mask&gt;0; mask &lt;&lt;= 1) {
    if (data &amp; mask){ // choose bit
     digitalWrite(tx,HIGH); // send 1
    }
    else{
     digitalWrite(tx,LOW); // send 0
    }
    delayMicroseconds(bit9600Delay);
  }
  //stop bit
  digitalWrite(tx, HIGH);
  delayMicroseconds(bit9600Delay);
}

int SWread()
{
  byte val = 0;
  while (digitalRead(rx));
  //wait for start bit
  if (digitalRead(rx) == LOW) {
    delayMicroseconds(halfBit9600Delay);
    for (int offset = 0; offset &lt; 8; offset++) {
     delayMicroseconds(bit9600Delay);
     val |= digitalRead(rx) &lt;&lt; offset;
    }
    //wait for stop bit + extra
    delayMicroseconds(bit9600Delay); 
    delayMicroseconds(bit9600Delay);
    return val;
  }
}

void loop()
{
    SWval = SWread(); 
    SWprint(toupper(SWval));
}

</pre>
<p class='vspace'></p><p>Open up your serial terminal program and set it to 9600 baud, 8 data bits, 1 stop bit, no parity, no hardware flow control. Press the reset button on the arduino board. The word "hi" should appear in the terminal window followed by an advancement to the next line. Here is a shot of what it should look like in Hyperterminal, the free pre-installed windows terminal application.
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/hyperterm_hi.jpg' alt='' title='' /></div>
<p class='vspace'></p><p>Now, try typing a lowercase character into the terminal window. You should see the letter you typed return to you in uppercase.
</p>
<p class='vspace'></p><div><img src='../uploads/Tutorial/hyperterm_abc.jpg' alt='' title='' /></div>
<p class='vspace'></p><p>If this works, congratulations! Your serial connection is working as planned. You can now use your new serial/computer connection to print debugging statements from your code, and to send commands to your microcontroller.
</p>
<p class='vspace'></p><p><em>code and tutorial by Heather Dewey-Hagborg, photos by Thomas Dexter</em>
</p>
</div>


<!-- AddThis Button BEGIN -->
<script type="text/javascript">var addthis_language = "en";
</script>
<div class="addthis_container addthis_toolbox addthis_default_style" addthis:url="http://arduino.cc/en/Tutorial/ArduinoSoftwareRS232" addthis:title="Arduino Wiki English">
<a href="http://www.addthis.com/bookmark.php?v=250&amp;username=arduinoteam" class="addthis_button_compact">Share</a><span 
class="addthis_separator">|</span><a class="addthis_button_email"></a><a class="addthis_button_favorites"></a><a class="addthis_button_print"></a><a 
class="addthis_button_facebook"></a><a class="addthis_button_twitter"></a><script type="text/javascript" 
src="../../../s7.addthis.com/js/250/addthis_widget.js#username=arduinoteam"></script></div>
<!-- AddThis Button END -->

</div>
<!--PageFooterFmt-->
<div id="pagefooter">
&copy;Arduino | 
  <a href='ArduinoSoftwareRS232264b.html?action=edit'>Edit Page</a> | <a href='ArduinoSoftwareRS232ad68html.html?action=diff'>Page History</a> | <a href='ArduinoSoftwareRS23260ee.html?action=print' target='_blank'>Printable View</a> | <a href='../Site/AllRecentChanges.html'>All Recent Site Changes</a>
</div>
<!--/PageFooterFmt-->
</div>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? 
"https://stats.arduino.cc/piwik/" : "http://stats.arduino.cc/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img 
src="http://stats.arduino.cc/piwik/piwik.php?idsite=1" style="border:0" 
alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

</body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
