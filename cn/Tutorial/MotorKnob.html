<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>Arduino - MotorKnob </title>
  <link rel="shortcut icon" type="image/x-icon" href="../favicon.png">
  <link rel='stylesheet' href='../pub/skins/arduinoWide_SSO/arduinoWide_SSO.css' 
type='text/css' />
  <link href="https://plus.google.com/114839908922424087554" rel="publisher" />
    <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 5px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
div.toc p { background-color: #f9f6d6;
    margin-top:-5px;   padding-top: 5px;
    margin-left:-5px;  padding-left: 5px;
    margin-right:-5px; padding-right: 5px;
    padding-bottom: 3px;
    border-bottom:  1px dotted #cccccc; }.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.arduino  {font-family:monospace;}
.arduino .imp {font-weight: bold; color: red;}
.arduino .kw1 {color: #CC6600;}
.arduino .kw2 {color: #006699;}
.arduino .kw3 {color: #CC6600; font-weight: bold;}
.arduino .co1 {color: #7E7E7E; font-style: italic;}
.arduino .co2 {color: #7E7E7E;}
.arduino .coMULTI {color: #7E7E7E; font-style: italic;}
.arduino .es0 {color: #000099; font-weight: bold;}
.arduino .es1 {color: #000099; font-weight: bold;}
.arduino .es2 {color: #660099; font-weight: bold;}
.arduino .es3 {color: #660099; font-weight: bold;}
.arduino .es4 {color: #660099; font-weight: bold;}
.arduino .es5 {color: #006699; font-weight: bold;}
.arduino .br0 {color: #000000;}
.arduino .sy0 {color: #000000;}
.arduino .st0 {color: #0066CC;}
.arduino .nu0 {color: #000000;}
.arduino .nu6 {color: #208080;}
.arduino .nu8 {color: #208080;}
.arduino .nu12 {color: #208080;}
.arduino .nu16 {color:#800080;}
.arduino .nu17 {color:#800080;}
.arduino .nu18 {color:#800080;}
.arduino .nu19 {color:#800080;}
.arduino .me1 {color: #ff1493;}
.arduino .me2 {color: #ff1493;}
.arduino span.xtra { display:block; }

.sourceblocklink {
  text-align: right;
  font-size: smaller;
}
.sourceblocktext {
  padding: 0.5em;
  color: #000000;
  background-color: #ffffff;
}
.sourceblocktext div {
  font-family: monospace;
  font-size: small;
  line-height: 1;
  height: 1%;
}
.sourceblocktext div.head,
.sourceblocktext div.foot {
  font: italic medium serif;
  padding: 0.5em;
}

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>  <meta name='robots' content='index,follow' />

  <meta name="verify-v1" content="TtxFIEJAB6zdJ509wLxjnapQzKAMNm9u0Wj4ho6wxIY=" />
  <script src="https://id.arduino.cc/css/sso_bar_js_2.php?s=reference"></script>
  <link rel="stylesheet" type="text/css" media="screen" href="../../../id.arduino.cc/css/sso_bar.css" />
</head>
<body>

		<div id="ssotoolbar">
		  <div id="al">
			<nobr><div id="ssoNavBar">&nbsp;</div></nobr>
		  </div>
		  <div id="ar">
			<nobr>
			  <div id="loginInfo"><div id="loading">Loading...</div></div>
			</nobr>
		  </div>
		</div>
		<script>ssoGenerateNavigationBar('');</script>
<div id="page">
<!--PageHeaderFmt-->
<div id="pageheader">
  <div class="title"><a href='../../enhtml.html'>Arduino</a></div>
  <div class="search">
    <!-- SiteSearch Google -->
    <FORM method=GET action="http://www.google.com/search">
    <input type=hidden name=ie value=UTF-8>
    <input type=hidden name=oe value=UTF-8>
    <INPUT TYPE=text name=q size=25 maxlength=255 value="">
    <INPUT type=submit name=btnG VALUE="search">
    <input type=hidden name=domains value="http://www.arduino.cc/">
    <input type=hidden name=sitesearch value="http://www.arduino.cc/">
    </FORM>
    <!-- SiteSearch Google -->
  </div>
</div>
<!--/PageHeaderFmt-->
<!--PageLeftFmt-->
<div id="pagenav">
  <div id="navbar">
  	<p><a class='wikilink' href='../Main/Buy.html'>Buy</a>
<a class='wikilink' href='../Main/Software.html'>Download</a>
<a class='wikilink' href='../Guide/HomePagehtml.html'>Getting Started</a>
<a class='wikilink' href='HomePage.html'>Learning</a>
<a class='wikilink' href='../Reference/HomePage.html'>Reference</a>
<a class='wikilink' href='../Main/Hardware.html'>Hardware</a>
<a class='wikilink' href='../Main/FAQ.html'>FAQ</a>
</p>
<p class='vspace'></p>

  </div>
</div>
<!--/PageLeftFmt-->
<div id="pagetext">
<!--PageText-->
<div id='wikitext'>
<p><strong>Learning</strong> &nbsp;  <a class='wikilink' href='HomePage.html'>Examples</a> | <a class='wikilink' href='Foundationshtml.html'>Foundations</a> | <a class='wikilink' href='../Hacking/HomePage.html'>Hacking</a> | <a class='wikilink' href='Links.html'>Links</a>
</p>
<p class='vspace'></p><p><em>Examples &gt; Stepper Library</em>
</p>
<p class='vspace'></p><h3>Stepper Motor Knob</h3>
<p>Stepper motors, due to their unique design, can be controlled to a high degree of accuracy without any feedback mechanisms. The shaft of a stepper, mounted with a series of magnets, is controlled by a series of electromagnetic coils that are charged positively and negatively in a specific sequence, precisely moving it forward or backward in small "steps".  
</p>
<p class='vspace'></p><p>There are two types of steppers, Unipolars and Bipolars, and it is very important to know which type you are working with. For more information about the differences of the two types, and about the circuits that must be built to control a stepper, please take a look at <a class='urllink' href='http://www.tigoe.net/pcomp/code/circuits/motors/stepper-motors' rel='nofollow'><strong>Tom Igoe's page on stepper motors</strong>.</a>
</p>
<p class='vspace'></p><p>In this example, the turns of a potentiometer (or other sensor) on analog input 0 are used to control the movement of a stepper motor while using the <a class='wikilink' href='../Reference/Stepper.html'><strong> Arduino Stepper Library</strong></a>. The <a class='wikilink' href='../Reference/StepperUnipolarCircuit.html'>unipolar</a> or <a class='wikilink' href='../Reference/StepperBipolarCircuit.html'>bipolar</a> stepper is controlled by using digital pins 8, 9, 10, and 11 in conjunction with either a <a class='urllink' href='http://octopart.com/uln2004a-stmicroelectronics-4798' rel='nofollow'>U2004 Darlington Array</a> (for unipolar steppers) or a <a class='urllink' href='http://octopart.com/sn754410ne-texas+instruments-1320' rel='nofollow'>SN754410NE H-Bridge</a> (for bipolars).
</p>
<p class='vspace'></p><div  class='BOM' >
<h3>Hardware Required</h3>
<ul><li>Arduino Board  
</li><li>potentiometer
</li><li>stepper motor
</li><li>U2004 Darlington Array (if using a unipolar stepper)
</li><li><span class='wikiword'>SN754410ne</span> H-Bridge (if using a bipolar stepper) 
</li></ul></div>
<ul><li>power supply appropriate for your particular stepper
</li><li>breadboard
</li><li>hookup wire
</li></ul>
<p class='vspace'></p><h3>Circuits</h3>
<div  class='circuit' >
<p>Below you'll find circuits for both unipolar and bipolar steppers. In either case, it is best to power your stepper motors from an external supply, as they draw too much to be powered directly from your Arduino board. 
</p>
<p class='vspace'></p><p>In both circuits, connect a 10k pot to power and ground, with it's wiper outputting to analog pin 0. 
</p>
<p class='vspace'></p><p><em>Note: Both circuits below are four wire configurations. Two wire configurations will not work with the code provided.</em>
</p>
<p class='vspace'></p><p><strong>Unipolar Stepper Circuit</strong>
</p>
<p class='vspace'></p><div><a class='urllink' href='../uploads/Tutorial/Unipolar_bb.png' rel='nofollow'><img height='300px' src='../uploads/Tutorial/Unipolar_bb.png' alt='' title='' /></a></div>
<p><span style='font-size:83%'>image developed using <a class='urllink' href='http://www.fritzing.org/' rel='nofollow'>Fritzing</a>. For more circuit examples, see the <a class='urllink' href='http://fritzing.org/projects/' rel='nofollow'>Fritzing project page</a> </span>
</p>
<p class='vspace'></p><p><strong>Unipolar Circuit Schematic</strong>
</p>
<p class='vspace'></p><div><a class='urllink' href='../uploads/Tutorial/Unipolar_sch.jpeg' rel='nofollow'><img height='250px' src='../uploads/Tutorial/Unipolar_sch.jpeg' alt='' title='' /></a></div>
<p class='vspace'></p><p><strong>Bipolar Stepper Circuit</strong>
</p>
<p class='vspace'></p><div><a class='urllink' href='../uploads/Tutorial/bipolar_bb.png' rel='nofollow'><img height='300px' src='../uploads/Tutorial/bipolar_bb.png' alt='' title='' /></a></div>
<p><span style='font-size:83%'>image developed using <a class='urllink' href='http://www.fritzing.org/' rel='nofollow'>Fritzing</a>. For more circuit examples, see the <a class='urllink' href='http://fritzing.org/projects/' rel='nofollow'>Fritzing project page</a> </span>
</p>
<p class='vspace'></p><p><strong>Bipolar Stepper Schematic</strong>
</p>
<p class='vspace'></p><div><a class='urllink' href='../uploads/Tutorial/bipolar_schem.jpeg' rel='nofollow'><img height='300px' src='../uploads/Tutorial/bipolar_schem.jpeg' alt='' title='' /></a></div>
<p class='vspace'></p></div>
<p class='vspace'></p><h3>Code</h3>
<div  class='code' >
<p><strong>(for both circuits)</strong>
</p>
<p class='vspace'></p><p>
<div class='sourceblock ' id='sourceblock1'>
  <div class='sourceblocktext'><div class="arduino"><span class="coMULTI">/*<br />
&nbsp;* MotorKnob<br />
&nbsp;*<br />
&nbsp;* A stepper motor follows the turns of a potentiometer<br />
&nbsp;* (or other sensor) on analog input 0.<br />
&nbsp;*<br />
&nbsp;* http://www.arduino.cc/en/Reference/Stepper<br />
&nbsp;* This example code is in the public domain.<br />
&nbsp;*/</span><br />
<br />
<span class="co2">#include &lt;Stepper.h&gt;</span><br />
<br />
<span class="co1">// change this to the number of steps on your motor</span><br />
<span class="co2">#define STEPS 100</span><br />
<br />
<span class="co1">// create an instance of the stepper class, specifying</span><br />
<span class="co1">// the number of steps of the motor and the pins it's</span><br />
<span class="co1">// attached to</span><br />
Stepper stepper<span class="br0">&#40;</span>STEPS<span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">11</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<br />
<span class="co1">// the previous reading from the analog input</span><br />
<span class="kw1">int</span> previous <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br />
<br />
<span class="kw1">void</span> <span class="kw3">setup</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br />
<span class="br0">&#123;</span><br />
&nbsp; <span class="co1">// set the speed of the motor to 30 RPMs</span><br />
&nbsp; stepper.<span class="kw1">setSpeed</span><span class="br0">&#40;</span><span class="nu0">30</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="br0">&#125;</span><br />
<br />
<span class="kw1">void</span> <span class="kw3">loop</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br />
<span class="br0">&#123;</span><br />
&nbsp; <span class="co1">// get the sensor value</span><br />
&nbsp; <span class="kw1">int</span> val <span class="sy0">=</span> <span class="kw1">analogRead</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<br />
&nbsp; <span class="co1">// move a number of steps equal to the change in the</span><br />
&nbsp; <span class="co1">// sensor reading</span><br />
&nbsp; stepper.<span class="kw1">step</span><span class="br0">&#40;</span>val <span class="sy0">-</span> previous<span class="br0">&#41;</span><span class="sy0">;</span><br />
<br />
&nbsp; <span class="co1">// remember the previous value of the sensor</span><br />
&nbsp; previous <span class="sy0">=</span> val<span class="sy0">;</span><br />
<span class="br0">&#125;</span></div></div>
  <div class='sourceblocklink'><a href='MotorKnobf687.html?action=sourceblock&amp;num=1' type='text/plain'>[Get Code]</a></div>
</div>

</p>
<p class='vspace'></p></div>
<p class='vspace'></p><h4>See also</h4>
<ul><li><a class='wikilink' href='../Reference/StepperConstructor.html'><code>Stepper myStepper = Stepper(steps, pin1, pin2, pin3, pin4)</code></a>
</li><li><a class='wikilink' href='../Reference/StepperSetSpeedhtml.html'><code>stepper.setSpeed()</code></a>
</li><li><a class='wikilink' href='../Reference/StepperStep.html'><code>stepper.step()</code></a>
<p class='vspace'></p></li><li><a class='wikilink' href='../Reference/Stepper.html'>Stepper library reference</a>
</li><li><a class='wikilink' href='Sweep.html'>Sweep</a> - sweep the shaft of a servo motor back and forth. 
</li><li><a class='wikilink' href='Knobhtml.html'>Knob</a> - control the position of a servo with a potentiometer. 
</li></ul><p class='vspace'></p>
</div>


<!-- AddThis Button BEGIN -->
<script type="text/javascript">var addthis_language = "en";
</script>
<div class="addthis_container addthis_toolbox addthis_default_style" addthis:url="http://arduino.cc/en/Tutorial/MotorKnob" addthis:title="Arduino Wiki English">
<a href="http://www.addthis.com/bookmark.php?v=250&amp;username=arduinoteam" class="addthis_button_compact">Share</a><span 
class="addthis_separator">|</span><a class="addthis_button_email"></a><a class="addthis_button_favorites"></a><a class="addthis_button_print"></a><a 
class="addthis_button_facebook"></a><a class="addthis_button_twitter"></a><script type="text/javascript" 
src="../../../s7.addthis.com/js/250/addthis_widget.js#username=arduinoteam"></script></div>
<!-- AddThis Button END -->

</div>
<!--PageFooterFmt-->
<div id="pagefooter">
&copy;Arduino | 
  <a href='MotorKnob264bhtml.html?action=edit'>Edit Page</a> | <a href='MotorKnobad68html.html?action=diff'>Page History</a> | <a href='MotorKnob60ee.html?action=print' target='_blank'>Printable View</a> | <a href='../Site/AllRecentChanges.html'>All Recent Site Changes</a>
</div>
<!--/PageFooterFmt-->
</div>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? 
"https://stats.arduino.cc/piwik/" : "http://stats.arduino.cc/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img 
src="http://stats.arduino.cc/piwik/piwik.php?idsite=1" style="border:0" 
alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

</body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
